const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChangelogModal-DuA-q9TA.js","assets/ui-D2YqbPcu.js","assets/vendor-BhvhDhpY.js","assets/JokeCorner-BODVYuGz.js","assets/ShipsPage-92sl2ygd.js","assets/ShipCard-zRCvJgFU.js","assets/ships-data-B9_KdinZ.js","assets/StatModifierInput-CjKO7zbw.js","assets/ShipDisplay-ApR9I5gC.js","assets/useShips-RXMfKXLW.js","assets/useStorage-6AZ-_ceW.js","assets/firebaseStorage-B0eyI6ev.js","assets/useEngineeringStats-BBMilB8n.js","assets/GearSlot-BtS1uLEJ.js","assets/GearPieceDisplay-BCww8SQc.js","assets/StatDisplay-zLjdPrVG.js","assets/GearInventory-YrEp50QN.js","assets/useGear-BHcAIW33.js","assets/GearPage-DSSj2GuI.js","assets/stat-values-B318iqG1.js","assets/scoring-AiKeAj3b.js","assets/SimulationPage-kdIch8q7.js","assets/SimulationResults-DawwZDmL.js","assets/ShipSelector-BxvrfkTU.js","assets/AutogearPage-BP0m_LDx.js","assets/EngineeringStatsPage-C6GolHmj.js","assets/LoadoutsPage-BudsJYcc.js","assets/EncounterNotesPage-D0TAw2fY.js","assets/HomePage-C8-wHMIt.js","assets/ShipDetailsPage-EsVb0rz9.js"])))=>i.map(i=>d[i]);
import{j as e,N as y,C as v,u as N,_ as l,a as f,S as p,A as O,b as A,c as C,d as R}from"./ui-D2YqbPcu.js";import{c as w,g as I,a as c,B as P,R as T,d,e as b}from"./vendor-BhvhDhpY.js";import{S as L}from"./ships-data-B9_KdinZ.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();var h={},j;function V(){if(j)return h;j=1;var t=w();return h.createRoot=t.createRoot,h.hydrateRoot=t.hydrateRoot,h}var D=V();const z=I(D),H=({children:t})=>{const[r,o]=c.useState([]),i=c.useCallback(n=>{o(a=>a.filter(u=>u.id!==n))},[]),s=c.useCallback((n,a,u=5e3)=>{const g=Date.now().toString()+Math.random().toString(36).substring(2,15),S={id:g,type:n,message:a,duration:u};o(E=>[...E,S]),u>0&&setTimeout(()=>{i(g)},u)},[i]);return e.jsx(y.Provider,{value:{notifications:r,addNotification:s,removeNotification:i},children:t})},G=({notification:t,onClose:r})=>{const o="flex items-center p-4  shadow-lg mb-2 text-white",i={success:"bg-green-500",error:"bg-red-500",info:"bg-blue-500",warning:"bg-yellow-500"};return e.jsxs("div",{className:`${o} ${i[t.type]}`,children:[e.jsx("span",{className:"flex-grow",children:t.message}),e.jsx("button",{onClick:()=>r(t.id),"aria-label":"Close notification",className:"ml-4 text-white hover:",children:e.jsx(v,{})})]})},J=()=>{const{notifications:t,removeNotification:r}=N();return e.jsx("div",{className:"fixed top-4 right-4 z-50 w-96 space-y-2",role:"complementary",children:t.map(o=>e.jsx(G,{notification:o,onClose:r},o.id))})},$=["ships"],q=()=>{$.forEach(t=>{const r=localStorage.getItem(t);if(r)try{const o=JSON.parse(r);let i=!1;Array.isArray(o)?o.forEach(s=>{s.faction==="TIANSHAO"&&(s.faction="TIANCHAO",i=!0)}):o.faction==="TIANSHAO"&&(o.faction="TIANCHAO",i=!0),i&&localStorage.setItem(t,JSON.stringify(o))}catch(o){console.error(`Error migrating faction data for ${t}:`,o)}})},M=()=>{const t=localStorage.getItem("ships");if(t)try{const r=JSON.parse(t);let o=!1;const i=r.map(s=>{if(s.affinity)return s;const n=L[s.name.toUpperCase().replace(/ /g,"_")];return n!=null&&n.affinity?(o=!0,{...s,affinity:n.affinity.toLowerCase()}):s});o&&localStorage.setItem("ships",JSON.stringify(i))}catch(r){console.error("Error during affinity migration:",r)}},x=()=>typeof window<"u",_=()=>!(!x()||!window.hj),m=(t,...r)=>{if(x()&&window.hj)return window.hj(t,...r);throw Error("Hotjar is not available, make sure init has been called.")},B=(t,r,o)=>{if(!((i,s,n)=>{try{const a=document.getElementById(s)||document.createElement("script");return a.id=s,a.nonce=n,a.innerText=i,a.crossOrigin="anonymous",document.head.appendChild(a),!0}catch{return!1}})(`(function(h,o,t,j,a,r){h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};h._hjSettings={hjid:${t},hjsv:${r},hjdebug:${(o==null?void 0:o.debug)||!1}};a=o.getElementsByTagName('head')[0];r=o.createElement('script');r.async=1;r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;a.appendChild(r);})(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');`,"hotjar-init-script",o==null?void 0:o.nonce)||!_())throw Error("Failed to initialize Hotjar tracking script.")},F={init:(t,r,o)=>{try{return B(t,r,o),!0}catch(i){return console.error("Error:",i),!1}},event:t=>{try{return m("event",t),!0}catch(r){return console.error("Error:",r),!1}},identify:(t,r)=>{try{return m("identify",t,r),!0}catch(o){return console.error("Error:",o),!1}},stateChange:t=>{try{return m("stateChange",t),!0}catch(r){return console.error("Error:",r),!1}},isReady:_},K=c.lazy(()=>l(()=>import("./ChangelogModal-DuA-q9TA.js"),__vite__mapDeps([0,1,2]))),U=c.lazy(()=>l(()=>import("./JokeCorner-BODVYuGz.js"),__vite__mapDeps([3,1,2]))),Y=c.lazy(()=>l(()=>import("./ShipsPage-92sl2ygd.js"),__vite__mapDeps([4,1,2,5,6,7,8,9,10,11,12,13,14,15,16,17]))),k=c.lazy(()=>l(()=>import("./GearPage-DSSj2GuI.js"),__vite__mapDeps([18,1,2,7,19,16,14,9,10,11,15,20]))),Q=c.lazy(()=>l(()=>import("./SimulationPage-kdIch8q7.js"),__vite__mapDeps([21,1,2,9,10,11,12,22,20,23,8]))),W=c.lazy(()=>l(()=>import("./AutogearPage-BP0m_LDx.js"),__vite__mapDeps([24,1,2,9,10,11,12,20,22,8,23,13,14,15]))),X=c.lazy(()=>l(()=>import("./EngineeringStatsPage-C6GolHmj.js"),__vite__mapDeps([25,1,2,7,12,10,11,15]))),Z=c.lazy(()=>l(()=>import("./LoadoutsPage-BudsJYcc.js"),__vite__mapDeps([26,1,2,10,11,23,9,8,12,13,14,15,16,17]))),ee=c.lazy(()=>l(()=>import("./EncounterNotesPage-D0TAw2fY.js"),__vite__mapDeps([27,1,2,23,9,10,11,8,12]))),te=c.lazy(()=>l(()=>import("./HomePage-C8-wHMIt.js"),__vite__mapDeps([28,1,2,11]))),re=c.lazy(()=>l(()=>import("./ShipDetailsPage-EsVb0rz9.js"),__vite__mapDeps([29,1,2,5,6,7,8,9,10,11,12,13,14,15,16,17,20]))),oe=5241833,se=6;F.init(oe,se);q();M();const ne=()=>{const[t,r]=c.useState(!1),[o,i]=c.useState(f);c.useEffect(()=>{var u;const n=localStorage.getItem(p.CHANGELOG_STATE);let a;n&&((u=JSON.parse(n))!=null&&u.lastSeenVersion.match(/^\d+\.\d+\.\d+$/))?a={lastSeenVersion:JSON.parse(n).lastSeenVersion}:a={lastSeenVersion:"0.0.0"},a.lastSeenVersion!==f&&(r(!0),i(a.lastSeenVersion))},[]);const s=()=>{r(!1),localStorage.setItem(p.CHANGELOG_STATE,JSON.stringify({lastSeenVersion:f}))};return e.jsx(H,{children:e.jsx(O,{children:e.jsx(P,{children:e.jsxs("main",{className:"flex",children:[e.jsx(A,{}),e.jsx("div",{className:"flex-1 lg:pl-64 max-w-full bg-dark-lighter",children:e.jsxs("div",{className:"min-h-screen py-8 px-4 mt-14 lg:mt-0 flex flex-col overflow-x-hidden",children:[e.jsx("div",{className:"max-w-7xl mx-auto w-full flex-grow",children:e.jsx(c.Suspense,{fallback:e.jsx("div",{className:"text-center",children:"Loading..."}),children:e.jsxs(T,{children:[e.jsx(d,{path:"/ships",element:e.jsx(Y,{})}),e.jsx(d,{path:"/gear",element:e.jsx(k,{})}),e.jsx(d,{path:"/simulation",element:e.jsx(Q,{})}),e.jsx(d,{path:"/autogear",element:e.jsx(W,{})}),e.jsx(d,{path:"/engineering",element:e.jsx(X,{})}),e.jsx(d,{path:"/loadouts",element:e.jsx(Z,{})}),e.jsx(d,{path:"/encounters",element:e.jsx(ee,{})}),e.jsx(d,{path:"/",element:e.jsx(te,{})}),e.jsx(d,{path:"/ships/:shipId",element:e.jsx(re,{})})]})})}),e.jsx(U,{}),e.jsxs("footer",{className:"text-center text-xs mt-auto pt-5",children:["Made with ❤️ by ",C]})]})}),e.jsx(K,{isOpen:t,onClose:s,entries:R,lastSeenVersion:o}),e.jsx(J,{})]})})})})},ie=z.createRoot(document.getElementById("root"));ie.render(e.jsx(b.StrictMode,{children:e.jsx(ne,{})}));
