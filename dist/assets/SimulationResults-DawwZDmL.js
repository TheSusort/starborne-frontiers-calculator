import{b as H}from"./scoring-AiKeAj3b.js";import{j as e}from"./ui-D2YqbPcu.js";const i=1e3,m=15e3,N=170,R=.15;function F(a,s){switch(s){case"Attacker":return j(a);case"Defender":return o(a);case"Debuffer":return D(a);case"Supporter":return k(a);case"Supporter(Buffer)":return{...o(a),speed:a.speed};default:return j(a)}}function j(a){let s=0,r=0,l=1/0,d=0;for(let n=0;n<i;n++){const h=M(a);s+=h,r=Math.max(r,h),l=Math.min(l,h),h>a.attack&&d++}return{averageDamage:Math.round(s/i),highestHit:Math.round(r),lowestHit:Math.round(l),critRate:Math.round(d/i*100)/100}}function o(a){const s=H(a.defence||0),r=(a.hp||0)*(100/(100-s)),l=m*((100-s)/100),d=Math.floor(r/l);return{effectiveHP:Math.round(r),attacksWithstood:d,damageReduction:Math.round(s*100)/100}}function D(a){const s=a.hacking||0,r=Math.min(100,Math.max(0,s-N)),l=j(a);return{hackSuccessRate:Math.round(r*100)/100,averageDamage:l.averageDamage,highestHit:l.highestHit,lowestHit:l.lowestHit,critRate:l.critRate}}function k(a){let s=0,r=0,l=1/0,d=0;const n=(a.hp||0)*R,h=1+(a.healModifier||0)/100;for(let g=0;g<i;g++){const f=y(n,h,a);s+=f,r=Math.max(r,f),l=Math.min(l,f),f>n&&d++}return{averageHealing:Math.round(s/i),highestHeal:Math.round(r),lowestHeal:Math.round(l),critRate:Math.round(d/i*100)/100}}function M(a){const s=a.attack||0;return Math.random()*100<=(a.crit||0)?s*(1+(a.critDamage||0)/100):s}function y(a,s,r){const d=Math.random()*100<=(r.crit||0);let n=a;return d&&(n=a*(1+(r.critDamage||0)/100)),n*s}const E=({currentSimulation:a,suggestedSimulation:s,role:r})=>{const l=(c,t=!1)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Average Damage:"}),e.jsxs("span",{className:"ml-2",children:[c.averageDamage,t&&s&&e.jsxs("span",{className:`ml-2 ${s.averageDamage>a.averageDamage?"text-green-500":"text-red-500"}`,children:["(",((s.averageDamage-a.averageDamage)/a.averageDamage*100).toFixed(1),"%)"]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Highest Hit:"}),e.jsx("span",{className:"ml-2",children:c.highestHit})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Lowest Hit:"}),e.jsx("span",{className:"ml-2",children:c.lowestHit})]}),c.critRate&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Crit Rate:"}),e.jsxs("span",{className:"ml-2",children:[c.critRate*100,"%"]})]})]}),d=(c,t=!1)=>{var x;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Effective HP:"}),e.jsxs("span",{className:"ml-2",children:[(x=c.effectiveHP)==null?void 0:x.toLocaleString(),t&&s&&e.jsxs("span",{className:`ml-2 ${s.effectiveHP>a.effectiveHP?"text-green-500":"text-red-500"}`,children:["(",((s.effectiveHP-a.effectiveHP)/a.effectiveHP*100).toFixed(1),"%)"]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Damage Reduction:"}),e.jsxs("span",{className:"ml-2",children:[c.damageReduction,"%",t&&s&&e.jsxs("span",{className:`ml-2 ${s.damageReduction>a.damageReduction?"text-green-500":"text-red-500"}`,children:["(",(s.damageReduction-a.damageReduction).toFixed(1),"%)"]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Attacks Withstood:"}),e.jsxs("span",{className:"ml-2",children:[c.attacksWithstood,t&&s&&e.jsxs("span",{className:`ml-2 ${s.attacksWithstood>a.attacksWithstood?"text-green-500":"text-red-500"}`,children:["(",((s.attacksWithstood-a.attacksWithstood)/a.attacksWithstood*100).toFixed(1),"%)"]})]})]})]})},n=(c,t=!1)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Hack Success Rate:"}),e.jsxs("span",{className:"ml-2",children:[c.hackSuccessRate,"%",t&&s&&e.jsxs("span",{className:`ml-2 ${s.hackSuccessRate>a.hackSuccessRate?"text-green-500":"text-red-500"}`,children:["(",((s.hackSuccessRate-a.hackSuccessRate)/a.hackSuccessRate*100).toFixed(1),"%)"]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Average Damage:"}),e.jsxs("span",{className:"ml-2",children:[c.averageDamage,t&&s&&e.jsxs("span",{className:`ml-2 ${s.averageDamage>a.averageDamage?"text-green-500":"text-red-500"}`,children:["(",((s.averageDamage-a.averageDamage)/a.averageDamage*100).toFixed(1),"%)"]})]})]})]}),h=(c,t=!1)=>{var x,v,p;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Average Healing:"}),e.jsxs("span",{className:"ml-2",children:[(x=c.averageHealing)==null?void 0:x.toLocaleString(),t&&s&&e.jsxs("span",{className:`ml-2 ${s.averageHealing>a.averageHealing?"text-green-500":"text-red-500"}`,children:["(",((s.averageHealing-a.averageHealing)/a.averageHealing*100).toFixed(1),"%)"]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Highest Heal:"}),e.jsxs("span",{className:"ml-2",children:[(v=c.highestHeal)==null?void 0:v.toLocaleString(),t&&s&&e.jsxs("span",{className:`ml-2 ${s.highestHeal>a.highestHeal?"text-green-500":"text-red-500"}`,children:["(",((s.highestHeal-a.highestHeal)/a.highestHeal*100).toFixed(1),"%)"]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Lowest Heal:"}),e.jsxs("span",{className:"ml-2",children:[(p=c.lowestHeal)==null?void 0:p.toLocaleString(),t&&s&&e.jsxs("span",{className:`ml-2 ${s.lowestHeal>a.lowestHeal?"text-green-500":"text-red-500"}`,children:["(",((s.lowestHeal-a.lowestHeal)/a.lowestHeal*100).toFixed(1),"%)"]})]})]})]})},g=(c,t=!1)=>{var x;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Speed:"}),e.jsx("span",{className:"ml-2",children:c.speed})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Effective HP:"}),e.jsxs("span",{className:"ml-2",children:[(x=c.effectiveHP)==null?void 0:x.toLocaleString(),t&&s&&e.jsxs("span",{className:`ml-2 ${s.effectiveHP>a.effectiveHP?"text-green-500":"text-red-500"}`,children:["(",((s.effectiveHP-a.effectiveHP)/a.effectiveHP*100).toFixed(1),"%)"]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Damage Reduction:"}),e.jsxs("span",{className:"ml-2",children:[c.damageReduction,"%",t&&s&&e.jsxs("span",{className:`ml-2 ${s.damageReduction>a.damageReduction?"text-green-500":"text-red-500"}`,children:["(",(s.damageReduction-a.damageReduction).toFixed(1),"%)"]})]})]})]})},f=(c,t=!1)=>{switch(r){case"Defender":return d(c,t);case"Debuffer":return n(c,t);case"Supporter":return h(c,t);case"Supporter(Buffer)":return g(c,t);default:return l(c,t)}};return e.jsxs("div",{className:`grid grid-cols-1 ${s?"md:grid-cols-2":""} gap-4 mt-4 `,children:[e.jsx("div",{children:e.jsxs("div",{className:"bg-dark p-4 space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Current Configuration"}),e.jsx("div",{className:"flex flex-col gap-2",children:f(a)})]})}),s&&e.jsx("div",{children:e.jsxs("div",{className:"bg-dark p-4 space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Suggested Configuration"}),e.jsx("div",{className:"flex flex-col gap-2",children:f(s,!0)})]})})]})};export{E as S,F as r};
